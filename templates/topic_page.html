{% extends 'base.html' %}
{% block content %}


<main class="container py-3">
    {% include 'alerts.html' %} <!-- підключення спливаючих повідомлень -->


    <div class="row">
        <div class="col md-2 col-lg-1">
            <div class="topic-image"
                style="background-image: url({{ url_for('static',filename='users_uploads/'+topic.image)}});"></div>
        </div>
        <div class="col-8">
            <h1>{{topic.name}}</h1>
        </div>

        <div class="col-4 col-md-3">
            <button class="btn btn-light">Підписатися</button>
            <a href="{{url_for('add_post',topic_name = topic.name)}}" class="btn btn-light">Додати пост</a>
        </div>
    </div>

<div class="posts">
    {% for post in topic.posts %}
        <div class="card">
            <div class="card-body">
            <h5 class="card-title">{{post.title}}</h5>
            <p class="card-text">{{post.content}}</p>
            <p class="card-text"><small class="text-body-secondary">{{post.published_at}}</small></p>
            </div>

            {% if post.image %}   
                <img class="post-img" src="{{ url_for('static',filename='users_uploads/'+post.image)}}" class="card-img-bottom" alt="...">
            {% endif %} 
            <!-- ДОдати кнопки лайк, коментар, репост і доробити стилі -->
        </div>

    {% endfor %}

</div>


    {% endblock %}